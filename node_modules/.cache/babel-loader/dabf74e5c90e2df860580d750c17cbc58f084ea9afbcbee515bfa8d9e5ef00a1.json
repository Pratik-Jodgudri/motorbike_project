{"ast":null,"code":"export function fetchAllProducts() {\n  return new Promise(async resolve => {\n    //TODO: we will not hard-code server URL here\n    const response = await fetch('http://localhost:8080/products');\n    const data = await response.json();\n    resolve({\n      data\n    });\n  });\n}\nexport function fetchProductsByFilters(filter, sort, pagination) {\n  // filter = {\"category\":\"smartphone\",\"laptops\"}\n  //sort = {_sort:\"price\",_order=\"desc\"}\n  // pagination = {_page:1,_limit=10} \n  // TODO : on server we will support multi values\n  let queryString = '';\n  for (let key in filter) {\n    const categoryValues = filter[key];\n    if (categoryValues.length) {\n      const lastCategoryValue = categoryValues[categoryValues.length - 1];\n      queryString += `${key}=${lastCategoryValue}&`;\n    }\n  }\n  for (let key in sort) {\n    queryString += `${key}=${sort[key]}&`;\n  }\n  console.log(pagination);\n  for (let key in pagination) {\n    queryString += `${key}=${pagination[key]}&`;\n  }\n  return new Promise(async resolve => {\n    //TODO: we will not hard-code server URL here\n    const response = await fetch('http://localhost:8080/products?' + queryString);\n    const data = await response.json();\n    const totalItems = await response.headers.get('X-Total-Count');\n    resolve({\n      data: {\n        products: data,\n        totalItems: +totalItems\n      }\n    });\n  });\n}","map":{"version":3,"names":["fetchAllProducts","Promise","resolve","response","fetch","data","json","fetchProductsByFilters","filter","sort","pagination","queryString","key","categoryValues","length","lastCategoryValue","console","log","totalItems","headers","get","products"],"sources":["F:/Web development course/MERN STACK - ETHNUS/Final Project/e-commerce/motorbike_project/src/features/product/productAPI.js"],"sourcesContent":["export function fetchAllProducts() {\r\n    return new Promise(async (resolve) =>{\r\n      //TODO: we will not hard-code server URL here\r\n      const response = await fetch('http://localhost:8080/products') \r\n      const data = await response.json()\r\n      resolve({data})\r\n    }\r\n    );\r\n  }\r\n  \r\n  export function fetchProductsByFilters(filter,sort,pagination) {\r\n    // filter = {\"category\":\"smartphone\",\"laptops\"}\r\n    //sort = {_sort:\"price\",_order=\"desc\"}\r\n    // pagination = {_page:1,_limit=10} \r\n    // TODO : on server we will support multi values\r\n    let queryString = '';\r\n    for(let key in filter){ \r\n      const categoryValues = filter[key];\r\n      if(categoryValues.length){\r\n        const lastCategoryValue = categoryValues[categoryValues.length-1]\r\n        queryString += `${key}=${lastCategoryValue}&`\r\n      }\r\n    }\r\n    for(let key in sort){\r\n      queryString += `${key}=${sort[key]}&`\r\n    }\r\n    console.log(pagination)\r\n  for(let key in pagination){\r\n    queryString += `${key}=${pagination[key]}&`\r\n  }\r\n\r\n    \r\n    return new Promise(async (resolve) =>{\r\n      //TODO: we will not hard-code server URL here\r\n      const response = await fetch('http://localhost:8080/products?'+queryString) \r\n      const data = await response.json()\r\n      const totalItems = await response.headers.get('X-Total-Count')\r\n    resolve({data:{products:data,totalItems:+totalItems}})\r\n    }\r\n    );\r\n  }"],"mappings":"AAAA,OAAO,SAASA,gBAAgBA,CAAA,EAAG;EAC/B,OAAO,IAAIC,OAAO,CAAC,MAAOC,OAAO,IAAI;IACnC;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,gCAAgC,CAAC;IAC9D,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;IAClCJ,OAAO,CAAC;MAACG;IAAI,CAAC,CAAC;EACjB,CACA,CAAC;AACH;AAEA,OAAO,SAASE,sBAAsBA,CAACC,MAAM,EAACC,IAAI,EAACC,UAAU,EAAE;EAC7D;EACA;EACA;EACA;EACA,IAAIC,WAAW,GAAG,EAAE;EACpB,KAAI,IAAIC,GAAG,IAAIJ,MAAM,EAAC;IACpB,MAAMK,cAAc,GAAGL,MAAM,CAACI,GAAG,CAAC;IAClC,IAAGC,cAAc,CAACC,MAAM,EAAC;MACvB,MAAMC,iBAAiB,GAAGF,cAAc,CAACA,cAAc,CAACC,MAAM,GAAC,CAAC,CAAC;MACjEH,WAAW,IAAK,GAAEC,GAAI,IAAGG,iBAAkB,GAAE;IAC/C;EACF;EACA,KAAI,IAAIH,GAAG,IAAIH,IAAI,EAAC;IAClBE,WAAW,IAAK,GAAEC,GAAI,IAAGH,IAAI,CAACG,GAAG,CAAE,GAAE;EACvC;EACAI,OAAO,CAACC,GAAG,CAACP,UAAU,CAAC;EACzB,KAAI,IAAIE,GAAG,IAAIF,UAAU,EAAC;IACxBC,WAAW,IAAK,GAAEC,GAAI,IAAGF,UAAU,CAACE,GAAG,CAAE,GAAE;EAC7C;EAGE,OAAO,IAAIX,OAAO,CAAC,MAAOC,OAAO,IAAI;IACnC;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,iCAAiC,GAACO,WAAW,CAAC;IAC3E,MAAMN,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;IAClC,MAAMY,UAAU,GAAG,MAAMf,QAAQ,CAACgB,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;IAChElB,OAAO,CAAC;MAACG,IAAI,EAAC;QAACgB,QAAQ,EAAChB,IAAI;QAACa,UAAU,EAAC,CAACA;MAAU;IAAC,CAAC,CAAC;EACtD,CACA,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}